{% extends "base_generic.html" %}

{% load ratings %}

{% block content %}
    <h1 id="novel-title">Movie List</h1>
    <div class="dropdown">
      <span> Sort By </span>
      <div class="dropdown-content">
        <a href="/movies">Title (A-Z)</a>
        <a href="/movies/title_reverse">Title (Z-A)</a>
        <a href="/movies/by_director">Director (First Name) </a>
        <a href="/movies/by_rating">Rating</a>
      </div>
    </div>

    <br/> <br/> <br/>

    {% if movie_list %}
    <ul >

      {% for movie in movie_list %}
      <li class="movieBlock">
        <img class="moviePoster" src="{{ movie.thumbnail }}" alt= "{{ movie.title }}">
        <a class= "movieTitle" href="{{ movie.get_absolute_url }}">{{ movie.title }}</a> 
        <p class="movieTags">  {{ movie.genre }} </p>
        <div style="float: right;">{% ratings movie 24 24 True %} ({{movie.ratings.get.count}})</div>
        <p class= "movieDirector"> Directed by <a href="{{ movie.director.get_absolute_url }}">{{ movie.director }}</a> </p>
        <p class= "movieDescription"><strong>Summary:</strong> {{ movie.summary }}</p>

      </li>
      <br>
      {% endfor %}
    </ul>

    {% else %}
      <p>There are no movies in the library.</p>
    {% endif %}       
{% endblock %}